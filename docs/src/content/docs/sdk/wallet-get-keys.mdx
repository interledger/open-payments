---
title: Get keys bound to a wallet address
---

import { CodeBlock, LinkOut } from '@interledger/docs-design-system'
import { Tabs, TabItem, LinkButton } from '@astrojs/starlight/components'
import ChunkedSnippet from '/src/components/ChunkedSnippet.astro'
import Begin from '/src/partials/before-you-begin.mdx'
import Ts from '/src/partials/ts-init-config.mdx'
import TsImport from '/src/partials/ts-import-initialize.mdx'
import PhpImport from '/src/partials/php-import-initialize.mdx'

While most Open Payments code snippets are intended for clients, getting the keys bound to a wallet address is primarily a function of account servicing entities.

When an authorization server receives a signed grant request, the server can make a call to acquire the public keys bound to the wallet address. Then, when a client makes a request to a resource server, the resource server calls the auth server to ensure the signature of the request corresponds to the public JWK of the wallet address. This enables the server to ensure the client is who it says it is.

These code snippets get the keys associated with the specified wallet address.

## Before you begin

<Begin />

## Retrieve the public keys for a wallet address

<Tabs>
<TabItem label='TypeScript/JavaScript' icon='seti:javascript'>
<LinkButton 
href="https://github.com/interledger/open-payments-snippets/blob/main/README.md#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>
<TsImport />

<ChunkedSnippet
  source="wallet-address/wallet-address-get-keys.ts"
  l="node"
  chunk="3"
/>

<ChunkedSnippet
  source="wallet-address/wallet-address-get-keys.ts"
  l="node"
  chunk="4"
/>

For TypeScript, run `tsx path/to/directory/index.ts`. <LinkOut href='https://github.com/interledger/open-payments/blob/main/snippets/node/wallet-address/wallet-address-get-keys.ts'>View full TS source</LinkOut>

For JavaScript, run `node path/to/directory/index.js`. <LinkOut href='https://github.com/interledger/open-payments/blob/main/snippets/node/wallet-address/wallet-address-get-keys.js'>View full JS source</LinkOut>

</TabItem>
<TabItem label="Rust" icon='seti:rust'>
<LinkButton href="https://github.com/interledger/open-payments-rust/tree/main/src/snippets#readme" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

<ChunkedSnippet
  source="wallet-address/wallet-address-get-keys.rs"
  l="rust"
  chunk="1"
/>

<ChunkedSnippet
  source="wallet-address/wallet-address-get-keys.rs"
  l="rust"
  chunk="2"
/>

<ChunkedSnippet
  source="wallet-address/wallet-address-get-keys.rs"
  l="rust"
  chunk="3"
/>

<ChunkedSnippet
  source="wallet-address/wallet-address-get-keys.rs"
  l="rust"
  chunk="4"
/>

<ChunkedSnippet
  source="wallet-address/wallet-address-get-keys.rs"
  l="rust"
  chunk="5"
/>

<p>
  <LinkOut href="https://github.com/interledger/open-payments/blob/main/snippets/rust/wallet-address/wallet-address-get-keys.rs">
    View full Rust source
  </LinkOut>
</p>

</TabItem>
<TabItem label="PHP" icon='seti:php'>
<LinkButton href="https://github.com/interledger/open-payments-php-snippets/blob/main/README.md#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

<PhpImport />

<ChunkedSnippet
  source="https://raw.githubusercontent.com/interledger/open-payments-php-snippets/refs/heads/main/src/Command/WalletAddress/PublicGetWalletAddressKeys.php"
  chunk="3"
/>
<ChunkedSnippet
  source="https://raw.githubusercontent.com/interledger/open-payments-php-snippets/refs/heads/main/src/Command/WalletAddress/PublicGetWalletAddressKeys.php"
  chunk="4"
/>

<p><LinkOut href='https://github.com/interledger/open-payments-php-snippets/blob/main/src/Command/WalletAddress/PublicGetWalletAddressKeys.php'>View full source</LinkOut></p>
</TabItem>
<TabItem label="Go" icon='seti:go'>
<LinkButton href="https://github.com/interledger/open-payments-go/blob/main/README.md" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

```go
package main

import (
	"context"
	"encoding/json"
	"fmt"
	"log"

  op "github.com/interledger/open-payments-go"

)

func main() {
  // Initialize Open Payments client
  client := op.NewClient()

  // Get wallet address keys
  walletAddressKeys, err := client.WalletAddress.GetKeys(context.TODO(), op.WalletAddressGetKeysParams{
    URL: WALLET_ADDRESS_URL,
  })
  if err != nil {
    log.Fatalf("Error fetching wallet address keys: %v\n", err)
  }

  // Output
  walletAddressKeysJSON, err := json.MarshalIndent(walletAddressKeys, "", "  ")
  if err != nil {
    log.Fatalf("Error marshaling wallet address keys: %v\n", err)
  }
  fmt.Println("WALLET ADDRESS KEYS:", string(walletAddressKeysJSON))
}

```

</TabItem>
<TabItem label='Java' icon='seti:java'>
<LinkButton href="https://github.com/interledger/open-payments-java?tab=readme-ov-file#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

    ```java wrap
    // 1. Import:
    import org.interledger.openpayments.httpclient.OpenPaymentsHttpClient;
    import org.interledger.openpayments.IOpenPaymentsClient;

    // 2. Client instance using HTTP:
    var client = OpenPaymentsHttpClient.defaultClient(
    "WalletAddress",
    "PrivateKeyPEM",
    "KeyId"
    );

    // 3. Retrieve the wallet address public keys:
    var keys = client.getKeys("https://cloudninebank.example.com/customer");

    // 4. Log keys:
    log.info("WALLET_ADDRESS_KEYS: {}", keys);
    ```
</TabItem>
</Tabs>

## References

- [API specification](/apis/wallet-address-server/operations/get-wallet-address-keys)
- [Wallet addresses](/concepts/wallet-addresses)
