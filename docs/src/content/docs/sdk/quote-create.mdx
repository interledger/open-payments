---
title: Create a quote
---

import { CodeBlock, LinkOut, Tooltip } from '@interledger/docs-design-system'
import { Tabs, TabItem, LinkButton } from '@astrojs/starlight/components'
import ChunkedSnippet from '/src/components/ChunkedSnippet.astro'
import Begin from '/src/partials/before-you-begin.mdx'
import Ts from '/src/partials/ts-init-config.mdx'
import TsImport from '/src/partials/ts-import-initialize.mdx'
import PhpImport from '/src/partials/php-import-initialize.mdx'

A quote is a commitment from an account servicing entity to deliver a particular amount to a recipient when sending a particular amount from a sender. Once an authorized client obtains the requisite grant from the authorization server of the sender's <Tooltip content="Account servicing entity" client: load><span>ASE</span></Tooltip>, the client can create a quote resource against the sender's wallet address. The quote indicates how much it will cost the sender to proceed with the transaction.

## Before you begin

<Begin />

## Create a quote with an incomingAmount _(from incoming payment)_

This code snippet allows a client to create a quote with an `incomingAmount` when one is specified in the `INCOMING_PAYMENT_URL`.

<Tabs syncKey="langs">
<TabItem label='TypeScript/JavaScript' icon='seti:javascript'>
<LinkButton href="https://github.com/interledger/open-payments-snippets/blob/main/README.md#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

<details>
  <summary>Initial configuration</summary>
  <Ts />
</details>

<TsImport />

<ChunkedSnippet source="quote/quote-create.ts" l="node" chunk="3" />

<ChunkedSnippet source="quote/quote-create.ts" l="node" chunk="4" />

<ChunkedSnippet source="quote/quote-create.ts" l="node" chunk="5" />

For TypeScript, run `tsx path/to/directory/index.ts`. <LinkOut href='https://github.com/interledger/open-payments/blob/main/snippets/node/quote/quote-create.ts'>View full TS source</LinkOut>

For JavaScript, run `node path/to/directory/index.js`. <LinkOut href='https://github.com/interledger/open-payments/blob/main/snippets/node/quote/quote-create.js'>View full JS source</LinkOut>

</TabItem>
<TabItem label="Rust" icon='seti:rust'>
<LinkButton href="https://github.com/interledger/open-payments-rust/tree/main/src/snippets#readme" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

<ChunkedSnippet source="quote/quote-create.rs" l="rust" chunk="1" />

<ChunkedSnippet source="quote/quote-create.rs" l="rust" chunk="2" />

<ChunkedSnippet source="quote/quote-create.rs" l="rust" chunk="3" />

<ChunkedSnippet source="quote/quote-create.rs" l="rust" chunk="4" />

<ChunkedSnippet source="quote/quote-create.rs" l="rust" chunk="5" />

<p>
  <LinkOut href="https://github.com/interledger/open-payments/blob/main/snippets/rust/quote/quote-create.rs">
    View full Rust source
  </LinkOut>
</p>

 </TabItem>
<TabItem label="PHP" icon='seti:php'>
<LinkButton href="https://github.com/interledger/open-payments-php-snippets/blob/main/README.md#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>
<PhpImport />
<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-php-snippets/refs/heads/main/src/Command/Quote/QuoteCreate.php'
  chunk='3'
/>
<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-php-snippets/refs/heads/main/src/Command/Quote/QuoteCreate.php'
  chunk='4'
/>

<p><LinkOut href='https://github.com/interledger/open-payments-php-snippets/blob/main/src/Command/Quote/QuoteCreate.php'>View full source</LinkOut></p>
</TabItem>

<TabItem label="Go" icon='seti:go'>
<LinkButton href="https://github.com/interledger/open-payments-go/blob/main/README.md" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

```go
package main

import (
	"context"
	"encoding/json"
	"fmt"
	"log"

	op "github.com/interledger/open-payments-go"
	rs "github.com/interledger/open-payments-go/generated/resourceserver"
)

func main() {
	// Initialize Open Payments client
	client, err := op.NewAuthenticatedClient(WALLET_ADDRESS_URL, PRIVATE_KEY_BASE_64, KEY_ID)
	if err != nil {
		log.Fatalf("Error creating authenticated client: %v\n", err)
	}

	// Create quote
	quote, err := client.Quote.Create(context.TODO(), op.QuoteCreateParams{
		BaseURL:     RESOURCE_SERVER_URL,
		AccessToken: QUOTE_ACCESS_TOKEN,
		Payload: rs.CreateQuoteJSONBody0{
			WalletAddressSchema: WALLET_ADDRESS_URL,
			Receiver:            INCOMING_PAYMENT_URL,
			Method:              "ilp",
		},
	})
	if err != nil {
		log.Fatalf("Error creating quote: %v\n", err)
	}

	// Output
	quoteJSON, err := json.MarshalIndent(quote, "", "  ")
	if err != nil {
		log.Fatalf("Error marshaling quote: %v\n", err)
	}
	fmt.Println("QUOTE:", string(quoteJSON))
	fmt.Println("QUOTE_URL:", *quote.Id)
}
```

</TabItem>
<TabItem label='Java' icon='seti:java'>
<LinkButton href="https://github.com/interledger/open-payments-java?tab=readme-ov-file#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

    ```java wrap
    // 1. Import:
    import org.interledger.openpayments.httpclient.OpenPaymentsHttpClient;
    import org.interledger.openpayments.IOpenPaymentsClient;

    // 2. Client instance using HTTP:
    IOpenPaymentsClient client = OpenPaymentsHttpClient.defaultClient(
    "WalletAddress",
    "PrivateKeyPEM",
    "KeyId"
    );

    // 3. Retrieve the wallets:
    var receiverWallet = client.getWalletAddress("https://cloudninebank.example.com/merchant");
    var senderWallet = client.getWalletAddress("https://cloudninebank.example.com/customer");

    // 4. Create incoming payment:
    var grantRequest = this.client.createGrantIncomingPayment(receiverWallet);
    var incomingPayment = this.client.createIncomingPayment(receiverWallet, grantRequest, BigDecimal.valueOf(11.25));

    // 5. Create quote:
    var quoteRequest = this.client.createGrantQuote(senderWallet);
    var quote = client.createQuote(quoteRequest.getAccess().getToken(), senderWallet, incomingPayment, Optional.empty(), Optional.empty());

    // 6. Logging:
    log.info("QUOTE: {}", incomingPayment);
    ```

</TabItem>
</Tabs>

## Create a quote with a debit amount

This code snippet allows a client to create a quote with a `debitAmount`, which specifies the amount that will be deducted from the sender's wallet.

<Tabs syncKey="langs">
<TabItem label='TypeScript/JavaScript' icon='seti:javascript'>
<LinkButton href="https://github.com/interledger/open-payments-snippets/blob/main/README.md#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

<details>
  <summary>Initial configuration</summary>
  <Ts />
</details>

<TsImport />

<ChunkedSnippet
  source="quote/quote-create-debit-amount.ts"
  l="node"
  chunk="3"
/>

<ChunkedSnippet
  source="quote/quote-create-debit-amount.ts"
  l="node"
  chunk="4"
/>

<ChunkedSnippet
  source="quote/quote-create-debit-amount.ts"
  l="node"
  chunk="5"
/>

For TypeScript, run `tsx path/to/directory/index.ts`. <LinkOut href='https://github.com/interledger/open-payments/blob/main/snippets/node/quote/quote-create-debit-amount.ts'>View full TS source</LinkOut>

For JavaScript, run `node path/to/directory/index.js`. <LinkOut href='https://github.com/interledger/open-payments/blob/main/snippets/node/quote/quote-create-debit-amount.js'>View full JS source</LinkOut>

</TabItem>
<TabItem label="Rust" icon='seti:rust'>
<LinkButton href="https://github.com/interledger/open-payments-rust/tree/main/src/snippets" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

<ChunkedSnippet
  source="quote/quote-create-debit-amount.rs"
  l="rust"
  chunk="1"
/>

<ChunkedSnippet
  source="quote/quote-create-debit-amount.rs"
  l="rust"
  chunk="2"
/>

<ChunkedSnippet
  source="quote/quote-create-debit-amount.rs"
  l="rust"
  chunk="3"
/>

<ChunkedSnippet
  source="quote/quote-create-debit-amount.rs"
  l="rust"
  chunk="4"
/>

<p>
  <LinkOut href="https://github.com/interledger/open-payments/blob/main/snippets/rust/quote/quote-create-debit-amount.rs">
    View full Rust source
  </LinkOut>
</p>

 </TabItem>
<TabItem label="PHP" icon='seti:php'>
<LinkButton href="https://github.com/interledger/open-payments-php-snippets/blob/main/README.md#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>
<PhpImport />
<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-php-snippets/refs/heads/main/src/Command/Quote/QuoteCreateDebitAmount.php'
  chunk='3'
/>
<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-php-snippets/refs/heads/main/src/Command/Quote/QuoteCreateDebitAmount.php'
  chunk='4'
/>
<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-php-snippets/refs/heads/main/src/Command/Quote/QuoteCreateDebitAmount.php'
  chunk='5'
/>

<p><LinkOut href='https://github.com/interledger/open-payments-php-snippets/blob/main/src/Command/Quote/QuoteCreateDebitAmount.php'>View full source</LinkOut></p>
</TabItem>

<TabItem label="Go" icon='seti:go'>
<LinkButton href="https://github.com/interledger/open-payments-go/blob/main/README.md" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

```go
package main

import (
	"context"
	"encoding/json"
	"fmt"
	"log"

	op "github.com/interledger/open-payments-go"
	rs "github.com/interledger/open-payments-go/generated/resourceserver"
)

func main() {
	// Initialize Open Payments client
	client, err := op.NewAuthenticatedClient(WALLET_ADDRESS_URL, PRIVATE_KEY_BASE_64, KEY_ID)
	if err != nil {
		log.Fatalf("Error creating authenticated client: %v\n", err)
	}

	// Get wallet address
  walletAddress, err := client.WalletAddress.Get(context.TODO(), op.WalletAddressGetParams{
    URL: WALLET_ADDRESS_URL,
  })
  if err != nil {
    log.Fatalf("Error fetching wallet address: %v\n", err)
  }

	// Create quote with debit amount
	quote, err := client.Quote.Create(context.TODO(), op.QuoteCreateParams{
		BaseURL:     walletAddress.ResourceServer,
		AccessToken: QUOTE_ACCESS_TOKEN,
		Payload: rs.CreateQuoteJSONBody1{
			WalletAddressSchema: WALLET_ADDRESS_URL,
			Receiver:            INCOMING_PAYMENT_URL,
			Method:              "ilp",
			DebitAmount: rs.Amount{
				Value:      "500",
				AssetCode:  walletAddress.AssetCode,
				AssetScale: walletAddress.AssetScale,
			},
		},
	})
	if err != nil {
		log.Fatalf("Error creating quote: %v\n", err)
	}

	// Output
	quoteJSON, err := json.MarshalIndent(quote, "", "  ")
	if err != nil {
		log.Fatalf("Error marshaling quote: %v\n", err)
	}
	fmt.Println("QUOTE:", string(quoteJSON))
	fmt.Println("QUOTE_URL:", *quote.Id)
}
```

</TabItem>
<TabItem label='Java' icon='seti:java'>
<LinkButton href="https://github.com/interledger/open-payments-java?tab=readme-ov-file#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

    ```java wrap
    // 1. Import:
    import org.interledger.openpayments.httpclient.OpenPaymentsHttpClient;
    import org.interledger.openpayments.IOpenPaymentsClient;
    import org.interledger.openpayments.IOpenPaymentsClient;
    import org.interledger.openpayments.model.common.Amount;

    // 2. Client instance using HTTP:
    IOpenPaymentsClient client = OpenPaymentsHttpClient.defaultClient(
    "WalletAddress",
    "PrivateKeyPEM",
    "KeyId"
    );

    // 3. Retrieve the wallets:
    var receiverWallet = client.getWalletAddress("https://cloudninebank.example.com/merchant");
    var senderWallet = client.getWalletAddress("https://cloudninebank.example.com/customer");

    // 4. Create incoming payment:
    var grantRequest = this.client.createGrantIncomingPayment(receiverWallet);
    var incomingPayment = this.client.createIncomingPayment(receiverWallet, grantRequest, BigDecimal.valueOf(11.50));

    // 5. Create quote:
    var quoteRequest = this.client.createGrantQuote(senderWallet);
    var quote = client.createQuote(
    quoteRequest.getAccess().getToken(),
    senderWallet,
    incomingPayment,
    Optional.of(Amount.build(BigDecimal.valueOf(12.34), "USD")),// Debit Amount - Not the same as incoming payment amount.
    Optional.empty()
    );

    // 6. Logging:
    log.info("QUOTE: {}", incomingPayment);
    ```

</TabItem>
</Tabs>

## Create a quote with a receive amount

This code snippet allows a client to create a quote with a `receiveAmount`, which specifies the amount that the recipient's wallet will receive.

<Tabs syncKey="langs">
<TabItem label='TypeScript/JavaScript' icon='seti:javascript'>
<LinkButton href="https://github.com/interledger/open-payments-snippets/blob/main/README.md#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

<details>
  <summary>Initial configuration</summary>
  <Ts />
</details>

<TsImport />

<ChunkedSnippet
  source="quote/quote-create-receive-amount.ts"
  l="node"
  chunk="3"
/>

<ChunkedSnippet
  source="quote/quote-create-receive-amount.ts"
  l="node"
  chunk="4"
/>

<ChunkedSnippet
  source="quote/quote-create-receive-amount.ts"
  l="node"
  chunk="5"
/>

For TypeScript, run `tsx path/to/directory/index.ts`. <LinkOut href='https://github.com/interledger/open-payments/blob/main/snippets/node/quote/quote-create-receive-amount.ts'>View full TS source</LinkOut>

For JavaScript, run `node path/to/directory/index.js`. <LinkOut href='https://github.com/interledger/open-payments/blob/main/snippets/node/quote/quote-create-receive-amount.js'>View full JS source</LinkOut>

</TabItem>
<TabItem label="Rust" icon='seti:rust'>
<LinkButton href="https://github.com/interledger/open-payments-rust/tree/main/src/snippets" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

<ChunkedSnippet
  source="quote/quote-create-receive-amount.rs"
  l="rust"
  chunk="1"
/>

<ChunkedSnippet
  source="quote/quote-create-receive-amount.rs"
  l="rust"
  chunk="2"
/>

<ChunkedSnippet
  source="quote/quote-create-receive-amount.rs"
  l="rust"
  chunk="3"
/>

<ChunkedSnippet
  source="quote/quote-create-receive-amount.rs"
  l="rust"
  chunk="4"
/>

<p>
  <LinkOut href="https://github.com/interledger/open-payments/blob/main/snippets/rust/quote/quote-create-receive-amount.rs">
    View full Rust source
  </LinkOut>
</p>

 </TabItem>
<TabItem label='PHP'>
<LinkButton href="https://github.com/interledger/open-payments-php-snippets/blob/main/README.md#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>
<PhpImport />
<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-php-snippets/refs/heads/main/src/Command/Quote/QuoteCreateReceiveAmount.php'
  chunk='3'
/>
<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-php-snippets/refs/heads/main/src/Command/Quote/QuoteCreateReceiveAmount.php'
  chunk='4'
/>
<ChunkedSnippet
  source='https://raw.githubusercontent.com/interledger/open-payments-php-snippets/refs/heads/main/src/Command/Quote/QuoteCreateReceiveAmount.php'
  chunk='5'
/>

<p><LinkOut href='https://github.com/interledger/open-payments-php-snippets/blob/main/src/Command/Quote/QuoteCreateReceiverAmount.php'>View full source</LinkOut></p>
</TabItem>

<TabItem label="Go" icon='seti:go'>
<LinkButton href="https://github.com/interledger/open-payments-go/blob/main/README.md" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

```go
package main

import (
	"context"
	"encoding/json"
	"fmt"
	"log"

	op "github.com/interledger/open-payments-go"
	rs "github.com/interledger/open-payments-go/generated/resourceserver"
)

func main() {
	// Initialize Open Payments client
	client, err := op.NewAuthenticatedClient(WALLET_ADDRESS_URL, PRIVATE_KEY_BASE_64, KEY_ID)
	if err != nil {
		log.Fatalf("Error creating authenticated client: %v\n", err)
	}

	// Get wallet address
  walletAddress, err := client.WalletAddress.Get(context.TODO(), op.WalletAddressGetParams{
    URL: WALLET_ADDRESS_URL,
  })
  if err != nil {
    log.Fatalf("Error fetching wallet address: %v\n", err)
  }

	// Create quote with receive amount
	quote, err := client.Quote.Create(context.TODO(), op.QuoteCreateParams{
		BaseURL:     walletAddress.ResourceServer,
		AccessToken: QUOTE_ACCESS_TOKEN,
		Payload: rs.CreateQuoteJSONBody2{
			WalletAddressSchema: WALLET_ADDRESS_URL,
			Receiver:            INCOMING_PAYMENT_URL,
			Method:              "ilp",
			ReceiveAmount: rs.Amount{
				Value:      "500",
				AssetCode:  walletAddress.AssetCode,
				AssetScale: walletAddress.AssetScale,
			},
		},
	})
	if err != nil {
		log.Fatalf("Error creating quote: %v\n", err)
	}

	// Output
	quoteJSON, err := json.MarshalIndent(quote, "", "  ")
	if err != nil {
		log.Fatalf("Error marshaling quote: %v\n", err)
	}
	fmt.Println("QUOTE:", string(quoteJSON))
	fmt.Println("QUOTE_URL:", *quote.Id)
}
```

</TabItem>
<TabItem label='Java' icon='seti:java'>
<LinkButton href="https://github.com/interledger/open-payments-java?tab=readme-ov-file#prerequisites" target="_blank" icon="external" iconPlacement="start">Prerequisites</LinkButton>

    ```java wrap
    // 1. Import:
    import org.interledger.openpayments.httpclient.OpenPaymentsHttpClient;
    import org.interledger.openpayments.IOpenPaymentsClient;
    import org.interledger.openpayments.model.common.Amount;

    // 2. Client instance using HTTP:
    IOpenPaymentsClient client = OpenPaymentsHttpClient.defaultClient(
    "WalletAddress",
    "PrivateKeyPEM",
    "KeyId"
    );

    // 3. Retrieve the wallets:
    var receiverWallet = client.getWalletAddress("https://cloudninebank.example.com/merchant");
    var senderWallet = client.getWalletAddress("https://cloudninebank.example.com/customer");

    // 4. Create incoming payment:
    var grantRequest = this.client.createGrantIncomingPayment(receiverWallet);
    var incomingPayment = this.client.createIncomingPayment(receiverWallet, grantRequest, BigDecimal.valueOf(11.50));

    // 5. Create quote:
    var quoteRequest = this.client.createGrantQuote(senderWallet);
    var quote = client.createQuote(
    quoteRequest.getAccess().getToken(),
    senderWallet,
    incomingPayment,
    Optional.empty(),
    Optional.of(Amount.build(BigDecimal.valueOf(12.34), "USD")),// Receive Amount - Not the same as incoming payment amount.
    );

    // 6. Logging:
    log.info("QUOTE: {}", incomingPayment);
    ```

</TabItem>
</Tabs>

## References

- [API specification](/apis/resource-server/operations/create-quote)
